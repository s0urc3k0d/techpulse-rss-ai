# =========================
# Core server
# =========================
NODE_ENV=production
PORT=5555

# =========================
# AI provider
# =========================
# mistral (recommended) or gemini
AI_PROVIDER=mistral

# Mistral
MISTRAL_API_KEY=your_mistral_api_key
MISTRAL_MODEL=mistral-small-latest

# Gemini (optional alternative)
# GEMINI_API_KEY=your_gemini_api_key
# GEMINI_MODEL=gemini-2.0-flash-exp

# =========================
# API rate limiting
# =========================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=10

# =========================
# SMTP email (required for digests)
# =========================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password
EMAIL_FROM=TechPulse AI <your_email@gmail.com>

# =========================
# Legacy digest scheduler (optional)
# =========================
SCHEDULER_ENABLED=false
SCHEDULER_CRON=0 9 * * *
SCHEDULER_TIMEZONE=Europe/Paris
SCHEDULER_STARTUP_WARMUP_SECONDS=45
SCHEDULER_EMAIL_TO=recipient@example.com
SCHEDULER_RUN_ON_START=false
SCHEDULER_FEEDS=["https://news.ycombinator.com/rss","https://techcrunch.com/feed/"]

# =========================
# Hourly automation pipeline
# RSS -> categorization -> auto top N/category -> save to internal RSS
# =========================
AUTO_PIPELINE_ENABLED=true
AUTO_PIPELINE_CRON=0 * * * *
AUTO_PIPELINE_FEEDS=["https://news.ycombinator.com/rss","https://techcrunch.com/feed/","https://www.theverge.com/rss/index.xml"]
AUTO_SELECT_MAX_PER_CATEGORY=5
AUTO_PIPELINE_LOOKBACK_HOURS=24
AUTO_PIPELINE_RUN_ON_START=false

# =========================
# Saturday podcast pipeline
# Saturday 10:00 -> read internal RSS XML -> top 2/category -> Mistral enrich -> email
# =========================
SATURDAY_PODCAST_ENABLED=true
SATURDAY_PODCAST_CRON=0 10 * * 6
SATURDAY_PODCAST_TIMEZONE=Europe/Paris
SATURDAY_PODCAST_EMAIL_TO=recipient@example.com
SATURDAY_PODCAST_MAX_PER_CATEGORY=2
SATURDAY_PODCAST_RUN_ON_START=false

# Internal API base used by Saturday pipeline to read /api/feeds/all.xml
INTERNAL_API_BASE_URL=http://127.0.0.1:5555
